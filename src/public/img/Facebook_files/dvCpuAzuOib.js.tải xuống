;/*FB_PKG_DELIM*/

__d("GroupsCometSocialLearningLeftRailUnitExpandedQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5614046205371048"}),null);
__d("MAWRestoreProtobufsFromEncryptedBackupsNOP",["I64","LSDataTraceCheckPoint","LSIntEnum","LSMEBTaskCreationSource","MAWAsyncEBPendingQueryPromise","MAWBridgeTraceRecordCheckpointHandler","MAWChatJid","MAWEncryptedBackupUtils","MAWJobDefinitions","MAWTimedJob","Promise","ReQL","WAJobOrchestratorTypes","WALoggerDeferred","asyncToGeneratorRuntime","gkx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(){var a=babelHelpers.taggedTemplateLiteralLoose(["[labyrinth_web] Failed to get thread key for "," when calling restoreProtobufsFromEncryptedBackups"]);k=function(){return a};return a}function l(a,b){return m.apply(this,arguments)}function m(){m=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,c){try{c=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(j||(j=d("I64"))).of_string(c)));if(c!=null){a=(yield d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.messages_ranges_v2__generated).getKeyRange(c)));if(a!=null)return a.minMessageId}}catch(a){return(h||(h=b("Promise"))).reject(a)}return});return m.apply(this,arguments)}function a(a,b,c,d,e,f,g,h,i,j,k,l,m,o){return n.apply(this,arguments)}function n(){n=b("asyncToGeneratorRuntime").asyncToGenerator(function*(a,e,f,g,m,n,p,q,r,s,t,u,v,w){try{var x=(yield l(a,f));n=(yield d("MAWChatJid").toThreadKeyMaybeForChatJidInteger(a,(j||(j=d("I64"))).of_string(f)));n==null&&void d("WALoggerDeferred").ERROR(k(),f);q=t!=null?Number(t):void 0;return d("MAWEncryptedBackupUtils").getMessageMetadataFromDeanonAPI(f,g.length,q).then(function(a){c("promiseDone")(o(e,f,v,g,x,m,p,r,s,t,w==null?void 0:w,a))})}catch(e){if(s!=null)return d("MAWBridgeTraceRecordCheckpointHandler").call(a,{checkPointId:(i||(i=d("LSIntEnum"))).ofNumber(c("LSDataTraceCheckPoint").FLOW_END_FOR_FAILURE),dataTraceId:s,errorMessage:e,shouldFlush:!0,syncChannel:-1,tags:void 0}).then(function(){return(h||(h=b("Promise"))).reject(e)})}return(h||(h=b("Promise"))).resolve()});return n.apply(this,arguments)}function o(a,b,e,f,g,h,j,k,l,m,n,o){if(l!=null&&n!=null&&(i||(i=d("LSIntEnum"))).unwrapIntEnum(n)===c("LSMEBTaskCreationSource").MESSENGER_MESSAGE_LIST_PAGINATION&&c("gkx")("3278")){var p;return d("MAWTimedJob").TimedUIJobStarters.waitUntilCompleted(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,h,j,k,(p=g)!=null?p:void 0,(p=l)!=null?p:void 0,(p=m)!=null?p:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},n,o)).then(function(){c("gkx")("23935")||d("MAWAsyncEBPendingQueryPromise").resolvePendingQueryUponReStore(l)})}return d("MAWTimedJob").TimedUIJobStarters.fireAndForget(d("MAWJobDefinitions").jobSerializers.restoreProtobufsFromEncryptedBackups(e,a,b,f,h,j,k,(p=g)!=null?p:void 0,(e=l)!=null?e:void 0,(a=m)!=null?a:void 0,void 0,{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION},n,o))}g.call=a}),98);